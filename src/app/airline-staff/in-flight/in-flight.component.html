<div class="mat-elevation-z8">
    <mat-table [dataSource]="dataSource1" class="seat-layout">
        <!--  Column -->
        <ng-container matColumnDef="0">
            <mat-header-cell *matHeaderCellDef> </mat-header-cell>
            <mat-cell *matCellDef="let element">
                {{ element["0"] }}</mat-cell>
        </ng-container>0
        <ng-container matColumnDef="1">
            <mat-header-cell *matHeaderCellDef> 1 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(1, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="2">
            <mat-header-cell *matHeaderCellDef> 2 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(2, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!--  Column -->
        <ng-container matColumnDef="3">
            <mat-header-cell *matHeaderCellDef> 3 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(3, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="4">
            <mat-header-cell *matHeaderCellDef> 4 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(4, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="5">
            <mat-header-cell *matHeaderCellDef> 5 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(5, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="6">
            <mat-header-cell *matHeaderCellDef> 6 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(6, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="7">
            <mat-header-cell *matHeaderCellDef> 7 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(7, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="8">
            <mat-header-cell *matHeaderCellDef> 8 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(8, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="9">
            <mat-header-cell *matHeaderCellDef> 9 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(9, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <!-- Column -->
        <ng-container matColumnDef="10">
            <mat-header-cell *matHeaderCellDef> 10 </mat-header-cell>
            <mat-cell *matCellDef="let element">
                <span class="seat-box" [ngClass]="getClassname(10, element['0'])"> </span>
            </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns1"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns1"></mat-row>
    </mat-table>

    <div class="table-footer">
        <div class="table-footer-meals"></div>
        <span class="table-span-meals">Special Meals</span>
    </div>

    <a class="button back" mat-raised-button color="warn" href="javascript:history.back()">
        <mat-icon>keyboard_backspace</mat-icon> Back
    </a>

    <div class="mat-elevation-z8">
        <table mat-table [dataSource]="dataSource" matSort>
            <!-- Name Column -->
            <ng-container matColumnDef="name">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Name</th>
                <td mat-cell *matCellDef="let element">{{ element.name }}</td>
            </ng-container>

            <!-- Ancillary services Column -->
            <ng-container matColumnDef="ancillaryServices">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Ancillary Services
                </th>
                <td mat-cell *matCellDef="let element">
                    <ng-container *ngFor="let item of element.ancillaryServices | keyvalue">
                        <div class="abc" *ngIf="item.value">
                            <span>{{ item.value }}</span>
                        </div>
                    </ng-container>
                </td>
            </ng-container>

            <!-- Shopping Items -->
            <ng-container matColumnDef="shop">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>
                    Shopping Requests
                </th>
                <td mat-cell *matCellDef="let element">
                    <ng-container *ngFor="let item of element.shoppingItems | keyvalue">
                        <div class="abc" *ngIf="item.value">
                            <span>{{ item.value }} </span>
                        </div>
                    </ng-container>
                </td>
            </ng-container>

            <!-- button Column -->
            <ng-container matColumnDef="button">
                <th mat-header-cell *matHeaderCellDef mat-sort-header>Action</th>
                <th mat-header-cell *matHeaderCellDef mat-sort-header class="add-update-btn">
                    button
                </th>
                <td mat-cell *matCellDef="let element">
                    <button mat-raised-button color="primary" (click)="openDialog(changeMealPreference, element)">
                        Change Meal Pref.
                    </button>
                    <button mat-stroked-button color="primary" (click)="openDialog(addAncillary, element)">
                        Add Ancillary
                    </button>

                    <button class="add" mat-raised-button color="primary"
                        (click)="openDialog(addShoppingItems, element)">
                        Shop Requests
                    </button>
                </td>
            </ng-container>
            <tr mat-header-row *matHeaderRowDef="columnsToDisplay"></tr>
            <tr mat-row *matRowDef="let row; columns: columnsToDisplay"></tr>
        </table>
    </div>

    <ng-template class="myForm" #changeMealPreference>
        <form [formGroup]="pass" (ngSubmit)="specialmealsPreferences(pass)">
            <h1 mat-dialog-title>Meal Preference</h1>
            <div class="meals" mat-dialog-content>
                <section class="example-section">

                    <mat-checkbox class="example-margin" formControlName="nonVeg" name="nonVeg" [(ngModel)]="nonVeg"
                        (change)="setPreference($event)">
                        Non-Veg (Special Meals)
                    </mat-checkbox>

                    <br />
                    <br />
                    <button class="meals" mat-stroked-button color="primary" type="submit">
                        Change
                    </button>
                </section>
            </div>
        </form>
    </ng-template>

    <ng-template #addAncillary>
        <h1 mat-dialog-title>Add Ancillary Services</h1>
        <div mat-dialog-content>
            <mat-form-field appearance="fill">
                <mat-label>Select an option</mat-label>
                <mat-select [(value)]="services
        ">
                    <mat-option *ngFor="let services of filteredFlights[0].ancillaryServices | keyvalue"
                        [value]="services.value">
                        {{services.value}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <button mat-stroked-button color="primary" type="submit" (click)="addAncillaryServices(services)">
                Add
            </button>
        </div>
    </ng-template>

    <ng-template #addShoppingItems>
        <h1 mat-dialog-title>Add Shopping Items</h1>
        <div mat-dialog-content>
            <mat-form-field appearance="fill">
                <mat-label>Select an option</mat-label>
                <mat-select [(value)]="items
        ">
                    <mat-option *ngFor="let items of filteredFlights[0].shoppingItems | keyvalue" [value]="items.value">
                        {{items.value}}
                    </mat-option>
                </mat-select>
            </mat-form-field>
            <button mat-stroked-button color="primary" type="submit" (click)="addShopItem(items)">
                Add
            </button>
        </div>
    </ng-template>

</div>